# Technology Stack & Build System

## Tech Stack

### Backend
- **Runtime**: Node.js 18+
- **Framework**: Express.js with TypeScript
- **Database**: PostgreSQL 15+ with `pg` driver
- **Authentication**: JWT with bcrypt password hashing
- **Validation**: Zod for request/response validation
- **Migration**: node-pg-migrate for database schema management
- **Development**: tsx for TypeScript execution and hot reload

### Frontend
- **Framework**: React 18 with TypeScript
- **Build Tool**: Vite
- **Routing**: React Router v6
- **HTTP Client**: Axios
- **Styling**: CSS (no framework specified)

### Infrastructure
- **Development**: Docker Compose with PostgreSQL, Backend, Frontend services
- **Production**: Render.com (PostgreSQL + Web Services + Static Site)
- **Container**: Docker with multi-stage builds for production

## Common Commands

### Docker Development (Recommended)
```bash
# Start development environment
docker-compose up -d
make dev

# Database setup (first time)
scripts/init-dev.bat          # Windows
./scripts/init-dev.sh         # Mac/Linux
# OR manually:
docker-compose exec backend npm run migrate
docker-compose exec backend npm run seed

# View logs
docker-compose logs -f
make logs

# Stop environment
docker-compose down
make down

# Clean rebuild
make rebuild
```

### Manual Development
```bash
# Install dependencies (root)
npm install

# Backend development
cd backend
npm run dev                   # Start with hot reload
npm run migrate              # Run database migrations
npm run seed                 # Seed with sample data
npm run build               # Build for production

# Frontend development  
cd frontend
npm run dev                 # Start dev server
npm run build              # Build for production
```

### Database Management
```bash
# Connect to PostgreSQL (Docker)
docker-compose exec postgres psql -U budget_app_user -d budget_app
make shell-db

# Run migrations
npm run migrate             # Backend directory
make migrate               # Root with Docker
```

## Environment Configuration

### Development
- Backend: `backend/.env` (copy from `.env.example`)
- Database: PostgreSQL on port 5433 (Docker) or 5432 (manual)
- Frontend: http://localhost:3456
- Backend API: http://localhost:4567

### Production (Render)
- Automatic deployment via `render.yaml`
- Environment variables managed in Render dashboard
- JWT_SECRET auto-generated by Render